{"version":3,"file":"d-backtop.js","sourceRoot":"","sources":["../../../src/components/d-backtop/d-backtop.tsx"],"names":[],"mappings":"AAAA,OAAO,EAAE,SAAS,EAAE,IAAI,EAAE,CAAC,EAAE,IAAI,EAAE,KAAK,EAAE,MAAM,EAAE,MAAM,eAAe,CAAC;AAOxE,MAAM,OAAO,QAAQ;IACT,KAAK,GAAW,MAAM,CAAC;IACvB,MAAM,GAAW,MAAM,CAAC;IACxB,gBAAgB,GAAW,GAAG,CAAC;IAC/B,MAAM,GAAW,EAAE,CAAC;IAEnB,OAAO,GAAY,KAAK,CAAC;IAC1B,aAAa,GAAyB,MAAM,CAAC;IAErD,gBAAgB;QACZ,IAAI,IAAI,CAAC,MAAM,EAAE,CAAC;YACd,MAAM,QAAQ,GAAG,QAAQ,CAAC,aAAa,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;YACrD,IAAI,QAAQ,EAAE,CAAC;gBACX,IAAI,CAAC,aAAa,GAAG,QAAuB,CAAC;YACjD,CAAC;QACL,CAAC;IACL,CAAC;IAGD,YAAY;QACR,MAAM,SAAS,GACX,IAAI,CAAC,aAAa,KAAK,MAAM;YACzB,CAAC,CAAC,MAAM,CAAC,OAAO;YAChB,CAAC,CAAE,IAAI,CAAC,aAA6B,CAAC,SAAS,CAAC;QAExD,IAAI,CAAC,OAAO,GAAG,SAAS,GAAG,IAAI,CAAC,gBAAgB,CAAC;IACrD,CAAC;IAEO,WAAW,GAAG,GAAG,EAAE;QACvB,IAAI,IAAI,CAAC,aAAa,KAAK,MAAM,EAAE,CAAC;YAChC,MAAM,CAAC,QAAQ,CAAC;gBACZ,GAAG,EAAE,CAAC;gBACN,QAAQ,EAAE,QAAQ;aACrB,CAAC,CAAC;QACP,CAAC;aAAM,CAAC;YACH,IAAI,CAAC,aAA6B,CAAC,QAAQ,CAAC;gBACzC,GAAG,EAAE,CAAC;gBACN,QAAQ,EAAE,QAAQ;aACrB,CAAC,CAAC;QACP,CAAC;IACL,CAAC,CAAC;IAEF,MAAM;QACF,OAAO,CACH,EAAC,IAAI;YACD,4DACI,KAAK,EAAE,aACH,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,oBAAoB,CAAC,CAAC,CAAC,EAC1C,EAAE,EACF,KAAK,EAAE;oBACH,KAAK,EAAE,IAAI,CAAC,KAAK;oBACjB,MAAM,EAAE,IAAI,CAAC,MAAM;iBACtB,EACD,OAAO,EAAE,IAAI,CAAC,WAAW;gBACzB,8DAAa,CACX,CACH,CACV,CAAC;IACN,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;CACJ","sourcesContent":["import { Component, Host, h, Prop, State, Listen } from \"@stencil/core\";\n\n@Component({\n    tag: \"d-backtop\",\n    styleUrl: \"d-backtop.css\",\n    shadow: true,\n})\nexport class DBacktop {\n    @Prop() right: string = \"40px\";\n    @Prop() bottom: string = \"40px\";\n    @Prop() visibilityHeight: number = 400;\n    @Prop() target: string = \"\";\n\n    @State() visible: boolean = false;\n    private targetElement: HTMLElement | Window = window;\n\n    componentDidLoad() {\n        if (this.target) {\n            const targetEl = document.querySelector(this.target);\n            if (targetEl) {\n                this.targetElement = targetEl as HTMLElement;\n            }\n        }\n    }\n\n    @Listen(\"scroll\", { target: \"window\" })\n    handleScroll() {\n        const scrollTop =\n            this.targetElement === window\n                ? window.scrollY\n                : (this.targetElement as HTMLElement).scrollTop;\n\n        this.visible = scrollTop > this.visibilityHeight;\n    }\n\n    private handleClick = () => {\n        if (this.targetElement === window) {\n            window.scrollTo({\n                top: 0,\n                behavior: \"smooth\",\n            });\n        } else {\n            (this.targetElement as HTMLElement).scrollTo({\n                top: 0,\n                behavior: \"smooth\",\n            });\n        }\n    };\n\n    render() {\n        return (\n            <Host>\n                <div\n                    class={`d-backtop ${\n                        this.visible ? \"d-backtop--visible\" : \"\"\n                    }`}\n                    style={{\n                        right: this.right,\n                        bottom: this.bottom,\n                    }}\n                    onClick={this.handleClick}>\n                    <slot></slot>\n                </div>\n            </Host>\n        );\n    }\n}\n"]}