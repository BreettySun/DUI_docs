{"file":"d-collapse.js","mappings":"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","names":["DCollapse","__stencil_proxyCustomElement","HTMLElement"],"sources":["src/components/d-collapse/d-collapse.css?tag=d-collapse&encapsulation=shadow","src/components/d-collapse/d-collapse.tsx"],"sourcesContent":[":host {\n\tdisplay: block;\n\tfont-family: -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto,\n\t\t\"Helvetica Neue\", Arial, sans-serif;\n}\n\n.d-collapse {\n\tborder: 1px solid #e4e7ed;\n\tborder-radius: 4px;\n\tbackground-color: #fff;\n}\n\n.d-collapse-item {\n\tborder-bottom: 1px solid #e4e7ed;\n\ttransition: all 0.3s ease;\n\tanimation: fadeIn 0.3s ease;\n}\n\n.d-collapse-item:last-child {\n\tborder-bottom: none;\n}\n\n.d-collapse-item.disabled {\n\topacity: 0.6;\n\tcursor: not-allowed;\n}\n\n.d-collapse-item.disabled .d-collapse-header {\n\tcursor: not-allowed;\n}\n\n.d-collapse-header {\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: space-between;\n\tpadding: 12px 16px;\n\tbackground-color: #fafafa;\n\tcursor: pointer;\n\ttransition: background-color 0.3s ease;\n\tuser-select: none;\n}\n\n.d-collapse-header:hover {\n\tbackground-color: #f5f5f5;\n}\n\n.d-collapse-title {\n\tfont-size: 14px;\n\tfont-weight: 500;\n\tcolor: #303133;\n\tflex: 1;\n}\n\n.d-collapse-arrow {\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\twidth: 16px;\n\theight: 16px;\n\tcolor: #909399;\n\ttransition: transform 0.3s ease;\n}\n\n.d-collapse-item.active .d-collapse-arrow {\n\ttransform: rotate(180deg);\n\tcolor: #1890ff;\n}\n\n.d-collapse-content {\n\tmax-height: 0;\n\toverflow: hidden;\n\ttransition: max-height 0.3s ease;\n\tbackground-color: #fff;\n}\n\n.d-collapse-item.active .d-collapse-content {\n\tmax-height: 500px;\n}\n\n.d-collapse-content-inner {\n\tpadding: 16px;\n\tcolor: #606266;\n\tfont-size: 14px;\n\tline-height: 1.6;\n}\n\n/* 动画效果 */\n@keyframes fadeIn {\n\tfrom {\n\t\topacity: 0;\n\t\ttransform: translateY(-10px);\n\t}\n\tto {\n\t\topacity: 1;\n\t\ttransform: translateY(0);\n\t}\n}\n\n/* 响应式设计 */\n@media (max-width: 768px) {\n\t.d-collapse-header {\n\t\tpadding: 10px 12px;\n\t}\n\n\t.d-collapse-content-inner {\n\t\tpadding: 12px;\n\t}\n\n\t.d-collapse-title {\n\t\tfont-size: 13px;\n\t}\n}\n","import {\n\tComponent,\n\tHost,\n\th,\n\tState,\n\tEvent,\n\tEventEmitter,\n\tProp,\n\tWatch,\n} from \"@stencil/core\";\n\nexport interface CollapseItem {\n\tid: string;\n\ttitle: string;\n\tcontent: string;\n\tdisabled?: boolean;\n}\n\n@Component({\n\ttag: \"d-collapse\",\n\tstyleUrl: \"d-collapse.css\",\n\tshadow: true,\n})\nexport class DCollapse {\n\t@Prop() items: string | CollapseItem[] = [];\n\t@Prop() accordion: boolean = false; // 手风琴模式，同时只能展开一个\n\t@Prop() defaultActiveKeys: string | string[] = []; // 默认展开的项\n\n\t@State() activeKeys: string[] = [];\n\t@State() parsedItems: CollapseItem[] = [];\n\n\t@Event() change: EventEmitter<string[]>;\n\n\tcomponentWillLoad() {\n\t\tthis.parseProps();\n\t}\n\n\t@Watch(\"items\")\n\t@Watch(\"defaultActiveKeys\")\n\tparseProps() {\n\t\t// 解析items属性\n\t\tif (typeof this.items === \"string\") {\n\t\t\ttry {\n\t\t\t\tthis.parsedItems = JSON.parse(this.items);\n\t\t\t} catch (e) {\n\t\t\t\tconsole.error(\"Failed to parse items:\", e);\n\t\t\t\tthis.parsedItems = [];\n\t\t\t}\n\t\t} else {\n\t\t\tthis.parsedItems = this.items || [];\n\t\t}\n\n\t\t// 解析defaultActiveKeys属性\n\t\tif (typeof this.defaultActiveKeys === \"string\") {\n\t\t\ttry {\n\t\t\t\tthis.activeKeys = JSON.parse(this.defaultActiveKeys);\n\t\t\t} catch (e) {\n\t\t\t\tconsole.error(\"Failed to parse defaultActiveKeys:\", e);\n\t\t\t\tthis.activeKeys = [];\n\t\t\t}\n\t\t} else {\n\t\t\tthis.activeKeys = [...(this.defaultActiveKeys || [])];\n\t\t}\n\t}\n\n\tprivate toggleItem = (itemId: string) => {\n\t\tif (this.parsedItems.find((item) => item.id === itemId)?.disabled) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst newActiveKeys = [...this.activeKeys];\n\t\tconst index = newActiveKeys.indexOf(itemId);\n\n\t\tif (index > -1) {\n\t\t\t// 收起项\n\t\t\tnewActiveKeys.splice(index, 1);\n\t\t} else {\n\t\t\t// 展开项\n\t\t\tif (this.accordion) {\n\t\t\t\t// 手风琴模式，先清空所有激活项\n\t\t\t\tnewActiveKeys.length = 0;\n\t\t\t}\n\t\t\tnewActiveKeys.push(itemId);\n\t\t}\n\n\t\tthis.activeKeys = newActiveKeys;\n\t\tthis.change.emit(newActiveKeys);\n\t};\n\n\tprivate isItemActive = (itemId: string): boolean => {\n\t\treturn this.activeKeys.includes(itemId);\n\t};\n\n\trender() {\n\t\treturn (\n\t\t\t<Host>\n\t\t\t\t<div class=\"d-collapse\">\n\t\t\t\t\t{this.parsedItems.map((item) => (\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tclass={`d-collapse-item ${\n\t\t\t\t\t\t\t\tthis.isItemActive(item.id) ? \"active\" : \"\"\n\t\t\t\t\t\t\t} ${item.disabled ? \"disabled\" : \"\"}`}>\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tclass=\"d-collapse-header\"\n\t\t\t\t\t\t\t\tonClick={() => this.toggleItem(item.id)}>\n\t\t\t\t\t\t\t\t<span class=\"d-collapse-title\">{item.title}</span>\n\t\t\t\t\t\t\t\t<span class=\"d-collapse-arrow\">\n\t\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\t\twidth=\"16\"\n\t\t\t\t\t\t\t\t\t\theight=\"16\"\n\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 16 16\"\n\t\t\t\t\t\t\t\t\t\tfill=\"currentColor\">\n\t\t\t\t\t\t\t\t\t\t<path d=\"M8 11L3 6h10l-5 5z\" />\n\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class=\"d-collapse-content\">\n\t\t\t\t\t\t\t\t<div class=\"d-collapse-content-inner\">{item.content}</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t))}\n\t\t\t\t</div>\n\t\t\t\t<slot></slot>\n\t\t\t</Host>\n\t\t);\n\t}\n}\n"],"version":3}